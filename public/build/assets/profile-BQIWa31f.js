import{r as e,o as s,j as r,D as a,M as t,y as o,z as i}from"./ui-IMQ67UtN.js";import{v as l,q as n,$ as d,Y as c}from"./app-BzIHB5MS.js";import{a as m}from"./heading-BtMvnFQ6.js";import{A as u}from"./app-layout-DB0eL30t.js";import{S as p}from"./layout-BRkBig5g.js";import{z as j}from"./transition-B7rTVCoK.js";import"./vendor-C8WA2gAO.js";/* empty css            */import"./useModal-BujSF1za.js";import"./icons-ByXrcAkj.js";import"./app-logo-BXc3ETVF.js";import"./app-logo-icon-Dbm-KSvO.js";import"./utils-DwRR_onx.js";import"./use-mobile-navigation-BypUKXbd.js";function h(){const i=e.useRef(null),{data:n,setData:d,delete:c,processing:u,reset:p,errors:j,clearErrors:h}=l({password:""}),[x,{toggle:f,close:v}]=s(!1),g=()=>{h(),p(),v()};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(m,{title:"Delete account",description:"Delete your account and all of its resources"}),r.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[r.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[r.jsx("p",{className:"font-medium",children:"Warning"}),r.jsx("p",{className:"text-sm",children:"Please proceed with caution, this cannot be undone."})]}),r.jsx(a,{color:"red",onClick:()=>f(),children:"Delete account"}),r.jsxs(t,{opened:x,withCloseButton:!0,onClose:v,centered:!0,classNames:{body:"bg-background!",header:"bg-background!",content:"border",overlay:"bg-black/80"},size:"lg",radius:"md",title:r.jsx("div",{className:"text-lg font-bold",children:"Are you sure you want to delete your account?"}),children:[r.jsx("div",{children:"Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),r.jsxs("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),c(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>g(),onError:()=>{var e;return null==(e=i.current)?void 0:e.focus()},onFinish:()=>p()})},children:[r.jsx("div",{className:"mt-4",children:r.jsx(o,{id:"password",type:"password",name:"password",error:j.password,ref:i,value:n.password,onChange:e=>d("password",e.target.value),placeholder:"Password",autoComplete:"current-password"})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(a,{variant:"outline",onClick:g,children:"Cancel"}),r.jsx(a,{color:"red",type:"submit",disabled:u,children:"Delete account"})]})]})]})]})]})}const x=[{title:"Profile settings",href:"/settings/profile"}];function f({mustVerifyEmail:e,status:s}){const{auth:t}=n().props,{data:o,setData:f,patch:v,errors:g,processing:y,recentlySuccessful:b}=l({name:t.user.name,email:t.user.email});return r.jsxs(u,{breadcrumbs:x,children:[r.jsx(d,{title:"Profile settings"}),r.jsxs(p,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx(m,{title:"Profile information",description:"Update your name and email address"}),r.jsxs("form",{onSubmit:e=>{e.preventDefault(),v(route("profile.update"),{preserveScroll:!0})},className:"space-y-6",children:[r.jsx("div",{className:"grid gap-2",children:r.jsx(i,{id:"name",className:"mt-1 block w-full",label:"Name",value:o.name,error:g.name,onChange:e=>f("name",e.target.value),required:!0,autoComplete:"name",placeholder:"Full name"})}),r.jsx("div",{className:"grid gap-2",children:r.jsx(i,{id:"email",type:"email",className:"mt-1 block w-full",value:o.email,label:"Email address",error:g.email,onChange:e=>f("email",e.target.value),required:!0,autoComplete:"username",placeholder:"Email address"})}),e&&null===t.user.email_verified_at&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-muted-foreground -mt-4 text-sm",children:["Your email address is unverified."," ",r.jsx(c,{href:route("verification.send"),method:"post",as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Click here to resend the verification email."})]}),"verification-link-sent"===s&&r.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"A new verification link has been sent to your email address."})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(a,{type:"submit",disabled:y,children:"Save"}),r.jsx(j,{show:b,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:r.jsx("p",{className:"text-sm text-neutral-600",children:"Saved"})})]})]})]}),r.jsx(h,{})]})]})}export{f as default};
