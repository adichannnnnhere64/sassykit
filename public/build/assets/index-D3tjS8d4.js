import{R as e,j as a,af as o,aa as i,ag as n,ah as r,a2 as t,a0 as s,r as l,a1 as d,t as c,q as p}from"./ui-IMQ67UtN.js";import{M as h}from"./modal-link-Bx1xsKP_.js";import{Y as g,$ as m,m as u}from"./app-BzIHB5MS.js";import{u as j,M as b,b as x,a as f,c as w}from"./index.esm-BhagFBnh.js";import{M as S,A as v}from"./app-layout-DB0eL30t.js";import{i as C,j as y,a as z}from"./icons-ByXrcAkj.js";import"./vendor-C8WA2gAO.js";import"./useModal-BujSF1za.js";/* empty css            */import"./app-logo-BXc3ETVF.js";import"./app-logo-icon-Dbm-KSvO.js";import"./utils-DwRR_onx.js";import"./use-mobile-navigation-BypUKXbd.js";function P({row:e,actions:o}){const i=e.original;if(!o||0===o.length)return null;const[n,r]=l.useState(!1);return a.jsx(d,{justify:"flex-end",children:a.jsxs(c,{shadow:"md",position:"bottom-end",children:[a.jsx(c.Target,{children:a.jsx(p,{variant:"subtle",color:"gray",size:"sm",children:a.jsx(C,{size:16})})}),a.jsx(c.Dropdown,{children:o.map(((e,o)=>{if(e.show&&!e.show(i))return null;if(e.divider)return a.jsx(c.Divider,{},`divider-${o}`);const t="function"==typeof e.href?e.href(i):e.href;return a.jsxs("div",{component:t?g:"button",href:t,color:e.color,leftSection:e.icon,onClick:t?void 0:()=>{var a;return null==(a=e.onClick)?void 0:a.call(e,i)},children:[a.jsx(h,{href:t,children:e.label}),a.jsx(S,{show:!1!==n,onClose:()=>r(!1),children:a.jsx("button",{onClick:()=>r(!1),children:"Close"})})]},o)}))})]})})}function F({data:l,columns:d,actions:c=[],title:p,buttons:h="",enableRowSelection:g=!1,enableGlobalFilter:m=!0,initialPageSize:u=10,pageSizeOptions:S=["5","10","15","25","50"],emptyMessage:v="No data found",onSearch:C,onPageChange:y,onPageSizeChange:z,serverSide:F=!1}){const k=e.useMemo((()=>{const e=[...d];return c.length>0&&e.push({accessorKey:"_actions",header:"Actions",enableSorting:!1,enableGlobalFilter:!1,size:100,Cell:({row:e})=>a.jsx(P,{row:e,actions:c})}),e}),[d,c]),T=j({columns:k,data:l.data,enableRowSelection:g,initialState:{pagination:{pageSize:u,pageIndex:0},showGlobalFilter:m},manualPagination:F,rowCount:F?l.total:void 0,manualFiltering:F,onGlobalFilterChange:F?C:void 0,mantinePaginationProps:{rowsPerPageOptions:S},paginationDisplayMode:"pages",onPaginationChange:e=>{if(F){const a="function"==typeof e?e(T.getState().pagination):e,{pageIndex:o,pageSize:i}=a;y&&y(o+1),z&&i!==Number(l.per_page)&&z(i)}},renderEmptyRowsFallback:()=>a.jsx(s,{ta:"center",py:"xl",c:"dimmed",children:v}),enableColumnFilters:!F,enableSorting:!F,state:{...F?{pagination:{pageIndex:l.current_page-1,pageSize:Number(l.per_page)}}:{},...F&&C?{globalFilter:""}:{}}});return a.jsxs(o,{children:[p&&a.jsxs(a.Fragment,{children:[a.jsx(i,{order:4,children:p}),a.jsx(n,{})]}),a.jsxs(r,{justify:"space-between",align:"center",children:[m&&a.jsx(b,{table:T}),a.jsx("div",{children:h})]}),a.jsxs(t,{highlightOnHover:!0,striped:!0,withTableBorder:!0,withColumnBorders:!0,children:[a.jsx(t.Thead,{children:T.getHeaderGroups().map((e=>a.jsx(t.Tr,{children:e.headers.map((e=>a.jsx(t.Th,{children:e.isPlaceholder?null:e.column.columnDef.Header??e.column.columnDef.header},e.id)))},e.id)))}),a.jsx(t.Tbody,{children:T.getRowModel().rows.length>0?T.getRowModel().rows.map((e=>a.jsx(t.Tr,{children:e.getVisibleCells().map((e=>a.jsx(t.Td,{children:a.jsx(x,{cell:e,table:T})},e.id)))},e.id))):a.jsx(t.Tr,{children:a.jsx(t.Td,{colSpan:k.length,style:{textAlign:"center"},children:a.jsx(s,{c:"dimmed",py:"xl",children:v})})})})]}),a.jsx(f,{table:T}),a.jsx(w,{stackAlertBanner:!0,table:T})]})}const k=[{title:"Board",href:"/boards"}];function T({boards:e,filters:o}){return l.useState(!1),a.jsxs(v,{breadcrumbs:k,children:[a.jsx(m,{title:"Boards Table"}),a.jsx(F,{data:e,buttons:a.jsx(a.Fragment,{children:a.jsx(h,{href:route("module.kanban.board.create"),children:"Create Board"})}),columns:[{accessorKey:"title",header:"Full Name",size:200,Cell:({row:e})=>a.jsxs(g,{href:route("module.kanban.board.show",e.original.id??""),children:[" ",e.original.title]})}],actions:[{label:"Edit",icon:a.jsx(y,{size:14}),href:e=>`${route("module.kanban.board.edit",{id:e.id})}`},{label:"Delete",icon:a.jsx(z,{size:14}),color:"red",onClick:e=>{confirm("Delete user?")&&u.delete(route("module.kanban.board.delete",{id:e.id}))}}],title:"Board",serverSide:!0,enableGlobalFilter:!0,enableRowSelection:!0,initialPageSize:parseInt((null==o?void 0:o.per_page)||"10"),onSearch:e=>{u.visit(window.location.pathname,{data:{...o,search:e,page:1},preserveState:!0,preserveScroll:!0,only:["boards","filters"]})},onPageChange:e=>{u.visit(window.location.pathname,{data:{...o,page:e},preserveState:!0,preserveScroll:!0,only:["boards","filters"]})},onPageSizeChange:e=>{u.visit(window.location.pathname,{data:{...o,per_page:e,page:1},preserveState:!0,preserveScroll:!0,only:["boards","filters"]})}})]})}export{T as default};
